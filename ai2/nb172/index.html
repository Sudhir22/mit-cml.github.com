<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title>Release nb172 is coming</title>
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<style> .figure p {text-align: center;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Release nb172 is coming</h1>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">TL;DR</h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
The MIT App Inventor team will be releasing a new version of MIT App
Inventor (nb172) over the coming weekend. It contains two changes.
These changes are important to App Inventor internally, but most users
should not see much difference:
</p>


<ol class="org-ol">
<li>In MIT App Inventor, for the past several months, there have been
two options under “build”, asking users to decide whether their
packaged apps could be submitted to Google Play.  With this new
change there is only one option, and all built apps will now work
with Google play.  (Details below.)</li>

<li>We have changed the way the MIT AI2 Companion connects to the
browser. We anticipate that this change will work better in many
situations. However, the newer method of connecting may not work
with some network configurations. If this is the case, you will be
able to instruct the Companion to use the older “legacy” connection
method, making it work as it did prior to this release.</li>
</ol>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4">Changes in Release nb172</h2>
<div class="outline-text-2" id="text-orgheadline4">
</div><div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2">One Buildserver for Google Play and All Devices!</h3>
<div class="outline-text-3" id="text-orgheadline2">
<p>
We will be releasing MIT App Inventor version nb172 over the
weekend. As mentioned above, the most important changes have to do
with going back to one “buildserver” for packaging apps. Not only is
this version compatible with Google Play (it targets Android SDK 26
[Oreo]) and works on older devices, it has many bugs fixed since the
version we put out in October.
</p>

<p>
One of the major changes in later versions of Android, which we now
support, is the need to ask permission of the end user for access to
what Google calls “dangerous permissions.” These are permissions like
using the Microphone and Camera as well as writing to some storage
areas on a device.
</p>

<p>
For the most part we will automatically put up the required dialogs
when these permissions are needed by an MIT App Inventor
component. However if the end user denies the permission, the
component will not be able to perform whatever operation it was
attempting. In this case an application will generate an error. In
this release we have added blocks (in Screen1) that allows you to
determine if this has happened and take appropriate remedial actions
(like generating a message explaining why you need the permission,
etc.). You can also use these new blocks to proactively request the
needed permission ahead of time. Keep in mind that to debug an
application with these new blocks you will need at least Companion
version 2.48, which will be released through Google Play when the
release goes live. If you do not get your Companion from Google Play,
you can scan the barcode below to download it directly from MIT App
Inventor (but wait until after the release goes live).
</p>


<div class="figure">
<p><img src="./companion.png" alt="companion.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3">A New Way To Communicate (WebRTC)</h3>
<div class="outline-text-3" id="text-orgheadline3">
<p>
The other significant change we have made is how the browser and the
Companion communicate.
</p>

<p>
You may have noticed that more and more web sites and applications on
the web are being served by “secure” http (https) while MIT App
Inventor continues to <b>NOT</b> be served via https. Recent versions of
Chrome will label MIT App Inventor as not secure as a result. The
reason we do not use https is that it is incompatible with the way we
communicate between the browser and the Companion. The exact details
are beyond the scope of this document.
</p>

<p>
Starting with this release we have implemented a new method of
communicating between the browser and the Companion. This new approach
is based on a technology known as WebRTC. It offers several advantages
over the current (now called “legacy”) approach:
</p>

<p>
WebRTC connections are secure and private Android device and browser
need not be on the same network. In some cases it will even work over
the cellular network It will permit MIT App Inventor to be delivered
for a secure (http) connection
</p>

<p>
Although we believe that WebRTC should work on most situations, it may
not work on some networks that have firewalls blocking many
ports. Unlike our current (legacy) approach, which uses a few fixed
network ports which we can tell you about in our documentation, WebRTC
uses several different and in some cases randomly chosen ports for
communicating.
</p>

<p>
If WebRTC, the default approach in Companion version 2.48, doesn’t
work on your network, you can switch back to the legacy approach by
checking the (new to this release) “Use Legacy Connection” checkbox on
the Companion’s main screen.
</p>

<p>
Please let us know if our new communications approach fails on your
network. Eventually we will have to remove the legacy method in order
to finally move MIT App Inventor to being delivered via https.
</p>

<p>
Thank you and Happy Inventing!
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
